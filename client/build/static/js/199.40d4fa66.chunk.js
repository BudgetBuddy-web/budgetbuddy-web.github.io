"use strict";(self.webpackChunkbudgetbuddy_client=self.webpackChunkbudgetbuddy_client||[]).push([[199],{9199:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Ie});var s,r=t(5043),o=t(3216),a=t(3519),i=t(4282),l=t(6509),c=t(4196),d=t(4063),u=t(45),h=t(9379),m=t(8139),f=t.n(m),x=t(3043),g=t(8279),v=t(182),p=t(8260);function b(e){if((!s&&0!==s||e)&&g.A){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),s=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return s}var j=t(6618),A=t(8293);function E(e){const n=function(e){const n=(0,r.useRef)(e);return n.current=e,n}(e);(0,r.useEffect)(()=>()=>n.current(),[])}var y=t(4232);function N(e){void 0===e&&(e=(0,v.A)());try{var n=e.activeElement;return n&&n.nodeName?n:null}catch(t){return e.body}}function w(e,n){return e.contains?e.contains(n):e.compareDocumentPosition?e===n||!!(16&e.compareDocumentPosition(n)):void 0}var R=t(753),k=t(7950),C=t(2665);function O(e){const n=function(e){const n=(0,r.useRef)(e);return n.current=e,n}(e);(0,r.useEffect)(()=>()=>n.current(),[])}var T=t(4696),S=t(8894),L=t(8747);const F=(D="modal-open","".concat("data-rr-ui-").concat(D));var D;const B=class{constructor(){let{ownerDocument:e,handleContainerOverflow:n=!0,isRTL:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=n,this.isRTL=t,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const n=e.defaultView;return Math.abs(n.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},t=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[t]:s.style[t]},e.scrollBarWidth&&(n[t]="".concat(parseInt((0,L.A)(s,t)||"0",10)+e.scrollBarWidth,"px")),s.setAttribute(F,""),(0,L.A)(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(F),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return-1!==n?n:(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==n||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n)}remove(e){const n=this.modals.indexOf(e);-1!==n&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},M=(0,r.createContext)(g.A?window:void 0);M.Provider;function P(){return(0,r.useContext)(M)}const U=(e,n)=>g.A?null==e?(n||(0,v.A)()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const H=e=>e&&"function"!==typeof e?n=>{e.current=n}:e;const W=function(e,n){return(0,r.useMemo)(()=>function(e,n){const t=H(e),s=H(n);return e=>{t&&t(e),s&&s(e)}}(e,n),[e,n])};var V=t(2677),I=t(9791);const z=function(e){let{children:n,in:t,onExited:s,mountOnEnter:o,unmountOnExit:a}=e;const i=(0,r.useRef)(null),l=(0,r.useRef)(t),c=(0,S.A)(s);(0,r.useEffect)(()=>{t?l.current=!0:c(i.current)},[t,c]);const d=W(i,(0,I.am)(n)),u=(0,r.cloneElement)(n,{ref:d});return t?u:a||!l.current&&o?null:u},_=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];var K=t(579);const q=["component"];const $=r.forwardRef((e,n)=>{let{component:t}=e;const s=function(e){let{onEnter:n,onEntering:t,onEntered:s,onExit:o,onExiting:a,onExited:i,addEndListener:l,children:c}=e,d=function(e,n){if(null==e)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(n.indexOf(s)>=0)continue;t[s]=e[s]}return t}(e,_);const u=(0,r.useRef)(null),h=W(u,(0,I.am)(c)),m=e=>n=>{e&&u.current&&e(u.current,n)},f=(0,r.useCallback)(m(n),[n]),x=(0,r.useCallback)(m(t),[t]),g=(0,r.useCallback)(m(s),[s]),v=(0,r.useCallback)(m(o),[o]),p=(0,r.useCallback)(m(a),[a]),b=(0,r.useCallback)(m(i),[i]),j=(0,r.useCallback)(m(l),[l]);return Object.assign({},d,{nodeRef:u},n&&{onEnter:f},t&&{onEntering:x},s&&{onEntered:g},o&&{onExit:v},a&&{onExiting:p},i&&{onExited:b},l&&{addEndListener:j},{children:"function"===typeof c?(e,n)=>c(e,Object.assign({},n,{ref:h})):(0,r.cloneElement)(c,{ref:h})})}(function(e,n){if(null==e)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(n.indexOf(s)>=0)continue;t[s]=e[s]}return t}(e,q));return(0,K.jsx)(t,Object.assign({ref:n},s))});function Y(e){let{children:n,in:t,onExited:s,onEntered:o,transition:a}=e;const[i,l]=(0,r.useState)(!t);t&&i&&l(!1);const c=function(e){let{in:n,onTransition:t}=e;const s=(0,r.useRef)(null),o=(0,r.useRef)(!0),a=(0,S.A)(t);return(0,V.A)(()=>{if(!s.current)return;let e=!1;return a({in:n,element:s.current,initial:o.current,isStale:()=>e}),()=>{e=!0}},[n,a]),(0,V.A)(()=>(o.current=!1,()=>{o.current=!0}),[]),s}({in:!!t,onTransition:e=>{Promise.resolve(a(e)).then(()=>{e.isStale()||(e.in?null==o||o(e.element,e.initial):(l(!0),null==s||s(e.element)))},n=>{throw e.in||l(!0),n})}}),d=W(c,(0,I.am)(n));return i&&!t?null:(0,r.cloneElement)(n,{ref:d})}function G(e,n,t){return e?(0,K.jsx)($,Object.assign({},t,{component:e})):n?(0,K.jsx)(Y,Object.assign({},t,{transition:n})):(0,K.jsx)(z,Object.assign({},t))}const J=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Z;function Q(e){const n=P(),t=e||function(e){return Z||(Z=new B({ownerDocument:null==e?void 0:e.document})),Z}(n),s=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:(0,r.useCallback)(e=>{s.current.dialog=e},[]),setBackdropRef:(0,r.useCallback)(e=>{s.current.backdrop=e},[])})}const X=(0,r.forwardRef)((e,n)=>{let{show:t=!1,role:s="dialog",className:o,style:a,children:i,backdrop:l=!0,keyboard:c=!0,onBackdropClick:d,onEscapeKeyDown:u,transition:h,runTransition:m,backdropTransition:f,runBackdropTransition:x,autoFocus:v=!0,enforceFocus:p=!0,restoreFocus:b=!0,restoreFocusOptions:j,renderDialog:A,renderBackdrop:E=e=>(0,K.jsx)("div",Object.assign({},e)),manager:y,container:L,onShow:F,onHide:D=()=>{},onExit:B,onExited:M,onExiting:H,onEnter:W,onEntering:V,onEntered:z}=e,_=function(e,n){if(null==e)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(n.indexOf(s)>=0)continue;t[s]=e[s]}return t}(e,J);const q=P(),$=function(e,n){const t=P(),[s,o]=(0,r.useState)(()=>U(e,null==t?void 0:t.document));if(!s){const n=U(e);n&&o(n)}return(0,r.useEffect)(()=>{n&&s&&n(s)},[n,s]),(0,r.useEffect)(()=>{const n=U(e);n!==s&&o(n)},[e,s]),s}(L),Y=Q(y),Z=(0,C.A)(),X=(0,T.A)(t),[ee,ne]=(0,r.useState)(!t),te=(0,r.useRef)(null);(0,r.useImperativeHandle)(n,()=>Y,[Y]),g.A&&!X&&t&&(te.current=N(null==q?void 0:q.document)),t&&ee&&ne(!1);const se=(0,S.A)(()=>{if(Y.add(),ce.current=(0,R.A)(document,"keydown",ie),le.current=(0,R.A)(document,"focus",()=>setTimeout(oe),!0),F&&F(),v){var e,n;const t=N(null!=(e=null==(n=Y.dialog)?void 0:n.ownerDocument)?e:null==q?void 0:q.document);Y.dialog&&t&&!w(Y.dialog,t)&&(te.current=t,Y.dialog.focus())}}),re=(0,S.A)(()=>{var e;(Y.remove(),null==ce.current||ce.current(),null==le.current||le.current(),b)&&(null==(e=te.current)||null==e.focus||e.focus(j),te.current=null)});(0,r.useEffect)(()=>{t&&$&&se()},[t,$,se]),(0,r.useEffect)(()=>{ee&&re()},[ee,re]),O(()=>{re()});const oe=(0,S.A)(()=>{if(!p||!Z()||!Y.isTopModal())return;const e=N(null==q?void 0:q.document);Y.dialog&&e&&!w(Y.dialog,e)&&Y.dialog.focus()}),ae=(0,S.A)(e=>{e.target===e.currentTarget&&(null==d||d(e),!0===l&&D())}),ie=(0,S.A)(e=>{c&&(0,I.v$)(e)&&Y.isTopModal()&&(null==u||u(e),e.defaultPrevented||D())}),le=(0,r.useRef)(),ce=(0,r.useRef)();if(!$)return null;const de=Object.assign({role:s,ref:Y.setDialogRef,"aria-modal":"dialog"===s||void 0},_,{style:a,className:o,tabIndex:-1});let ue=A?A(de):(0,K.jsx)("div",Object.assign({},de,{children:r.cloneElement(i,{role:"document"})}));ue=G(h,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:B,onExiting:H,onExited:function(){ne(!0),null==M||M(...arguments)},onEnter:W,onEntering:V,onEntered:z,children:ue});let he=null;return l&&(he=E({ref:Y.setBackdropRef,onClick:ae}),he=G(f,x,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:he})),(0,K.jsx)(K.Fragment,{children:k.createPortal((0,K.jsxs)(K.Fragment,{children:[he,ue]}),$)})});X.displayName="Modal";const ee=Object.assign(X,{Manager:B});var ne=Function.prototype.bind.call(Function.prototype.call,[].slice);function te(e,n){return ne(e.querySelectorAll(n))}function se(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const re=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",oe=".sticky-top",ae=".navbar-toggler";class ie extends B{adjustAndStore(e,n,t){const s=n.style[e];n.dataset[e]=s,(0,L.A)(n,{[e]:"".concat(parseFloat((0,L.A)(n,e))+t,"px")})}restore(e,n){const t=n.dataset[e];void 0!==t&&(delete n.dataset[e],(0,L.A)(n,{[e]:t}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();var t,s;if(s="modal-open",(t=n).classList?t.classList.add(s):function(e,n){return e.classList?!!n&&e.classList.contains(n):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")}(t,s)||("string"===typeof t.className?t.className=t.className+" "+s:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+s)),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";te(n,re).forEach(n=>this.adjustAndStore(r,n,e.scrollBarWidth)),te(n,oe).forEach(n=>this.adjustAndStore(o,n,-e.scrollBarWidth)),te(n,ae).forEach(n=>this.adjustAndStore(o,n,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();var t,s;s="modal-open",(t=n).classList?t.classList.remove(s):"string"===typeof t.className?t.className=se(t.className,s):t.setAttribute("class",se(t.className&&t.className.baseVal||"",s));const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";te(n,re).forEach(e=>this.restore(r,e)),te(n,oe).forEach(e=>this.restore(o,e)),te(n,ae).forEach(e=>this.restore(o,e))}}let le;var ce=t(4995),de=t(7852);const ue=["className","bsPrefix","as"],he=r.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:r="div"}=e,o=(0,u.A)(e,ue);return s=(0,de.oU)(s,"modal-body"),(0,K.jsx)(r,(0,h.A)({ref:n,className:f()(t,s)},o))});he.displayName="ModalBody";const me=he,fe=r.createContext({onHide(){}}),xe=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],ge=r.forwardRef((e,n)=>{let{bsPrefix:t,className:s,contentClassName:r,centered:o,size:a,fullscreen:i,children:l,scrollable:c}=e,d=(0,u.A)(e,xe);t=(0,de.oU)(t,"modal");const m="".concat(t,"-dialog"),x="string"===typeof i?"".concat(t,"-fullscreen-").concat(i):"".concat(t,"-fullscreen");return(0,K.jsx)("div",(0,h.A)((0,h.A)({},d),{},{ref:n,className:f()(m,s,a&&"".concat(t,"-").concat(a),o&&"".concat(m,"-centered"),c&&"".concat(m,"-scrollable"),i&&x),children:(0,K.jsx)("div",{className:f()("".concat(t,"-content"),r),children:l})}))});ge.displayName="ModalDialog";const ve=ge,pe=["className","bsPrefix","as"],be=r.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:r="div"}=e,o=(0,u.A)(e,pe);return s=(0,de.oU)(s,"modal-footer"),(0,K.jsx)(r,(0,h.A)({ref:n,className:f()(t,s)},o))});be.displayName="ModalFooter";const je=be;var Ae=t(5632);const Ee=["closeLabel","closeVariant","closeButton","onHide","children"],ye=r.forwardRef((e,n)=>{let{closeLabel:t="Close",closeVariant:s,closeButton:o=!1,onHide:a,children:i}=e,l=(0,u.A)(e,Ee);const c=(0,r.useContext)(fe),d=(0,j.A)(()=>{null==c||c.onHide(),null==a||a()});return(0,K.jsxs)("div",(0,h.A)((0,h.A)({ref:n},l),{},{children:[i,o&&(0,K.jsx)(Ae.A,{"aria-label":t,variant:s,onClick:d})]}))});ye.displayName="AbstractModalHeader";const Ne=ye,we=["bsPrefix","className","closeLabel","closeButton"],Re=r.forwardRef((e,n)=>{let{bsPrefix:t,className:s,closeLabel:r="Close",closeButton:o=!1}=e,a=(0,u.A)(e,we);return t=(0,de.oU)(t,"modal-header"),(0,K.jsx)(Ne,(0,h.A)((0,h.A)({ref:n},a),{},{className:f()(s,t),closeLabel:r,closeButton:o}))});Re.displayName="ModalHeader";const ke=Re;var Ce=t(4488);const Oe=["className","bsPrefix","as"],Te=(0,Ce.A)("h4"),Se=r.forwardRef((e,n)=>{let{className:t,bsPrefix:s,as:r=Te}=e,o=(0,u.A)(e,Oe);return s=(0,de.oU)(s,"modal-title"),(0,K.jsx)(r,(0,h.A)({ref:n,className:f()(t,s)},o))});Se.displayName="ModalTitle";const Le=Se,Fe=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","data-bs-theme","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function De(e){return(0,K.jsx)(ce.A,(0,h.A)((0,h.A)({},e),{},{timeout:null}))}function Be(e){return(0,K.jsx)(ce.A,(0,h.A)((0,h.A)({},e),{},{timeout:null}))}const Me=r.forwardRef((e,n)=>{let{bsPrefix:t,className:s,style:o,dialogClassName:a,contentClassName:i,children:l,dialogAs:c=ve,"data-bs-theme":d,"aria-labelledby":m,"aria-describedby":N,"aria-label":w,show:R=!1,animation:k=!0,backdrop:C=!0,keyboard:O=!0,onEscapeKeyDown:T,onShow:S,onHide:L,container:F,autoFocus:D=!0,enforceFocus:B=!0,restoreFocus:M=!0,restoreFocusOptions:P,onEntered:U,onExit:H,onExiting:W,onEnter:V,onEntering:I,onExited:z,backdropClassName:_,manager:q}=e,$=(0,u.A)(e,Fe);const[Y,G]=(0,r.useState)({}),[J,Z]=(0,r.useState)(!1),Q=(0,r.useRef)(!1),X=(0,r.useRef)(!1),ne=(0,r.useRef)(null),[te,se]=(0,r.useState)(null),re=(0,A.A)(n,se),oe=(0,j.A)(L),ae=(0,de.Wz)();t=(0,de.oU)(t,"modal");const ce=(0,r.useMemo)(()=>({onHide:oe}),[oe]);function ue(){return q||(e={isRTL:ae},le||(le=new ie(e)),le);var e}function he(e){if(!g.A)return;const n=ue().getScrollbarWidth()>0,t=e.scrollHeight>(0,v.A)(e).documentElement.clientHeight;G({paddingRight:n&&!t?b():void 0,paddingLeft:!n&&t?b():void 0})}const me=(0,j.A)(()=>{te&&he(te.dialog)});E(()=>{(0,p.A)(window,"resize",me),null==ne.current||ne.current()});const xe=()=>{Q.current=!0},ge=e=>{Q.current&&te&&e.target===te.dialog&&(X.current=!0),Q.current=!1},pe=()=>{Z(!0),ne.current=(0,y.A)(te.dialog,()=>{Z(!1)})},be=e=>{"static"!==C?X.current||e.target!==e.currentTarget?X.current=!1:null==L||L():(e=>{e.target===e.currentTarget&&pe()})(e)},je=(0,r.useCallback)(e=>(0,K.jsx)("div",(0,h.A)((0,h.A)({},e),{},{className:f()("".concat(t,"-backdrop"),_,!k&&"show")})),[k,_,t]),Ae=(0,h.A)((0,h.A)({},o),Y);Ae.display="block";return(0,K.jsx)(fe.Provider,{value:ce,children:(0,K.jsx)(ee,{show:R,ref:re,backdrop:C,container:F,keyboard:!0,autoFocus:D,enforceFocus:B,restoreFocus:M,restoreFocusOptions:P,onEscapeKeyDown:e=>{O?null==T||T(e):(e.preventDefault(),"static"===C&&pe())},onShow:S,onHide:L,onEnter:(e,n)=>{e&&he(e),null==V||V(e,n)},onEntering:(e,n)=>{null==I||I(e,n),(0,x.Ay)(window,"resize",me)},onEntered:U,onExit:e=>{null==ne.current||ne.current(),null==H||H(e)},onExiting:W,onExited:e=>{e&&(e.style.display=""),null==z||z(e),(0,p.A)(window,"resize",me)},manager:ue(),transition:k?De:void 0,backdropTransition:k?Be:void 0,renderBackdrop:je,renderDialog:e=>(0,K.jsx)("div",(0,h.A)((0,h.A)({role:"dialog"},e),{},{style:Ae,className:f()(s,t,J&&"".concat(t,"-static"),!k&&"show"),onClick:C?be:void 0,onMouseUp:ge,"data-bs-theme":d,"aria-label":w,"aria-labelledby":m,"aria-describedby":N,children:(0,K.jsx)(c,(0,h.A)((0,h.A)({},$),{},{onMouseDown:xe,className:a,contentClassName:i,children:l}))}))})})});Me.displayName="Modal";const Pe=Object.assign(Me,{Body:me,Header:ke,Title:Le,Footer:je,Dialog:ve,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var Ue=t(3814),He=t(5016),We=t(9722),Ve=t(2145);const Ie=()=>{const{user:e}=(0,He.A)(),n=(0,o.Zp)(),[t,s]=(0,r.useState)([]),[u,h]=(0,r.useState)(!0),[m,f]=(0,r.useState)(!1),[x,g]=(0,r.useState)(null),[v,p]=(0,r.useState)("");(0,r.useEffect)(()=>{if(e&&"admin"!==e.role)return Ve.oR.error("Access denied: Admin only"),void n("/dashboard");b()},[e,n]);const b=async()=>{try{h(!0);const e=localStorage.getItem("token"),n=await We.A.get("".concat("https://budget-buddy-h1k2.onrender.com/api","/admin/users"),{headers:{Authorization:"Bearer ".concat(e)}});s(n.data.data.users)}catch(e){console.error("Error fetching users:",e),Ve.oR.error("Failed to load users")}finally{h(!1)}},j=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return u?(0,K.jsx)("div",{className:"admin-users-page",children:(0,K.jsx)(a.A,{children:(0,K.jsxs)("div",{className:"loading-container",children:[(0,K.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,K.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,K.jsx)("p",{children:"Loading users..."})]})})}):(0,K.jsxs)("div",{className:"admin-users-page",children:[(0,K.jsxs)(a.A,{children:[(0,K.jsxs)("div",{className:"page-header",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("h1",{children:"\ud83d\udc65 User Management"}),(0,K.jsx)("p",{children:"View and manage all registered users"})]}),(0,K.jsx)(i.A,{variant:"outline-secondary",onClick:()=>n("/admin"),children:"\u2190 Back to Dashboard"})]}),(0,K.jsxs)("div",{className:"stats-cards",children:[(0,K.jsxs)("div",{className:"stat-card",children:[(0,K.jsx)("div",{className:"stat-icon",children:"\ud83d\udc65"}),(0,K.jsxs)("div",{className:"stat-info",children:[(0,K.jsx)("h3",{children:t.length}),(0,K.jsx)("p",{children:"Total Users"})]})]}),(0,K.jsxs)("div",{className:"stat-card",children:[(0,K.jsx)("div",{className:"stat-icon",children:"\ud83d\udc51"}),(0,K.jsxs)("div",{className:"stat-info",children:[(0,K.jsx)("h3",{children:t.filter(e=>"admin"===e.role).length}),(0,K.jsx)("p",{children:"Admins"})]})]}),(0,K.jsxs)("div",{className:"stat-card",children:[(0,K.jsx)("div",{className:"stat-icon",children:"\ud83d\udc64"}),(0,K.jsxs)("div",{className:"stat-info",children:[(0,K.jsx)("h3",{children:t.filter(e=>"user"===e.role).length}),(0,K.jsx)("p",{children:"Regular Users"})]})]}),(0,K.jsxs)("div",{className:"stat-card",children:[(0,K.jsx)("div",{className:"stat-icon",children:"\u23f3"}),(0,K.jsxs)("div",{className:"stat-info",children:[(0,K.jsx)("h3",{children:t.filter(e=>e.adminRequestPending).length}),(0,K.jsx)("p",{children:"Pending Requests"})]})]})]}),0===t.length?(0,K.jsxs)(l.A,{variant:"info",className:"text-center",children:[(0,K.jsx)("h4",{children:"No Users Found"}),(0,K.jsx)("p",{children:"There are no registered users in the system."})]}):(0,K.jsx)("div",{className:"users-table-container",children:(0,K.jsxs)(c.A,{responsive:!0,hover:!0,className:"users-table",children:[(0,K.jsx)("thead",{children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{children:"User"}),(0,K.jsx)("th",{children:"Email"}),(0,K.jsx)("th",{children:"Role"}),(0,K.jsx)("th",{children:"Status"}),(0,K.jsx)("th",{children:"Joined"}),(0,K.jsx)("th",{children:"Last Login"}),(0,K.jsx)("th",{children:"Transactions"}),(0,K.jsx)("th",{children:"Actions"})]})}),(0,K.jsx)("tbody",{children:t.map(n=>(0,K.jsxs)("tr",{children:[(0,K.jsx)("td",{children:(0,K.jsxs)("div",{className:"user-cell",children:[(0,K.jsx)("img",{src:n.profilePic||"https://ui-avatars.com/api/?name=".concat(n.name,"&background=random"),alt:n.name,className:"user-avatar"}),(0,K.jsxs)("div",{children:[(0,K.jsx)("strong",{children:n.name}),n._id===(null===e||void 0===e?void 0:e.id)&&(0,K.jsx)(d.A,{bg:"secondary",className:"ms-2",children:"You"})]})]})}),(0,K.jsx)("td",{children:n.email}),(0,K.jsx)("td",{children:(0,K.jsx)(d.A,{bg:"admin"===n.role?"danger":"primary",children:"admin"===n.role?"\ud83d\udc51 Admin":"\ud83d\udc64 User"})}),(0,K.jsx)("td",{children:n.adminRequestPending?(0,K.jsx)(d.A,{bg:"warning",text:"dark",children:"\u23f3 Pending"}):(0,K.jsx)(d.A,{bg:"success",children:"\u2713 Active"})}),(0,K.jsx)("td",{children:j(n.createdAt)}),(0,K.jsx)("td",{children:n.lastLogin?j(n.lastLogin):"Never"}),(0,K.jsx)("td",{className:"text-center",children:(0,K.jsx)(d.A,{bg:"info",children:n.transactionCount||0})}),(0,K.jsx)("td",{children:n._id!==(null===e||void 0===e?void 0:e.id)?(0,K.jsx)(i.A,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{g(e),p(""),f(!0)})(n),children:"\ud83d\uddd1\ufe0f Delete"}):(0,K.jsx)(i.A,{variant:"outline-secondary",size:"sm",disabled:!0,children:"Can't delete self"})})]},n._id))})]})})]}),(0,K.jsxs)(Pe,{show:m,onHide:()=>f(!1),centered:!0,children:[(0,K.jsx)(Pe.Header,{closeButton:!0,children:(0,K.jsx)(Pe.Title,{children:"\u26a0\ufe0f Delete User Account"})}),(0,K.jsxs)(Pe.Body,{children:[(0,K.jsxs)(l.A,{variant:"danger",children:[(0,K.jsx)("strong",{children:"Warning:"})," This action cannot be undone!"]}),(0,K.jsx)("p",{children:"You are about to permanently delete:"}),(0,K.jsxs)("div",{className:"user-to-delete-info",children:[(0,K.jsx)("strong",{children:"Name:"})," ",null===x||void 0===x?void 0:x.name,(0,K.jsx)("br",{}),(0,K.jsx)("strong",{children:"Email:"})," ",null===x||void 0===x?void 0:x.email,(0,K.jsx)("br",{}),(0,K.jsx)("strong",{children:"Role:"})," ",null===x||void 0===x?void 0:x.role,(0,K.jsx)("br",{}),(0,K.jsx)("strong",{children:"Transactions:"})," ",(null===x||void 0===x?void 0:x.transactionCount)||0]}),(0,K.jsx)("p",{className:"mt-3",children:"This will delete:"}),(0,K.jsxs)("ul",{children:[(0,K.jsx)("li",{children:"User account"}),(0,K.jsxs)("li",{children:["All ",(null===x||void 0===x?void 0:x.transactionCount)||0," transactions"]}),(0,K.jsx)("li",{children:"All associated data"})]}),(0,K.jsxs)(Ue.A.Group,{className:"mt-4",children:[(0,K.jsxs)(Ue.A.Label,{children:["Type ",(0,K.jsx)("strong",{children:"REMOVE"})," (in capitals) to confirm:"]}),(0,K.jsx)(Ue.A.Control,{type:"text",value:v,onChange:e=>p(e.target.value),placeholder:"Type REMOVE",autoFocus:!0})]})]}),(0,K.jsxs)(Pe.Footer,{children:[(0,K.jsx)(i.A,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),(0,K.jsx)(i.A,{variant:"danger",onClick:async()=>{if("REMOVE"===v)try{const e=localStorage.getItem("token");await We.A.delete("".concat("https://budget-buddy-h1k2.onrender.com/api","/admin/users/").concat(x._id),{headers:{Authorization:"Bearer ".concat(e)}}),Ve.oR.success("User ".concat(x.name," deleted successfully")),f(!1),g(null),p(""),b()}catch(t){var e,n;console.error("Error deleting user:",t),Ve.oR.error((null===(e=t.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to delete user")}else Ve.oR.error('Please type "REMOVE" to confirm')},disabled:"REMOVE"!==v,children:"Delete User"})]})]})]})}}}]);
//# sourceMappingURL=199.40d4fa66.chunk.js.map