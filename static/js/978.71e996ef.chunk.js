"use strict";(self.webpackChunkbudgetbuddy_client=self.webpackChunkbudgetbuddy_client||[]).push([[978],{1978:(e,a,s)=>{s.r(a),s.d(a,{default:()=>n});var t=s(5043),c=s(6305),r=s(2145),l=s(579);const n=()=>{const[e,a]=(0,t.useState)(null),[s,n]=(0,t.useState)(!0),[o,i]=(0,t.useState)((new Date).getMonth()+1),[d,m]=(0,t.useState)((new Date).getFullYear()),h=(0,t.useCallback)(async()=>{n(!0);try{const e=await c.Pt.getSummary({month:o,year:d});a(e.data)}catch(e){r.oR.error("Failed to load summary"),console.error(e)}finally{n(!1)}},[o,d]);(0,t.useEffect)(()=>{h()},[h]);if(s)return(0,l.jsx)("div",{className:"loading",children:(0,l.jsx)("div",{className:"spinner"})});if(!e)return(0,l.jsx)("div",{className:"container",children:"No data available"});const{totalIncome:x,totalExpenses:u,balance:j}=e.summary,{categoryBreakdown:p,insights:N}=e;return(0,l.jsxs)("div",{className:"reports-page",children:[(0,l.jsx)("div",{className:"page-header",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Financial Reports"}),(0,l.jsx)("p",{children:"View your financial summaries and export data"})]})}),(0,l.jsx)("div",{className:"card mb-4",children:(0,l.jsxs)("div",{className:"period-selector",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Month"}),(0,l.jsx)("select",{value:o,onChange:e=>i(parseInt(e.target.value)),className:"form-select",children:Array.from({length:12},(e,a)=>(0,l.jsx)("option",{value:a+1,children:new Date(2e3,a,1).toLocaleString("default",{month:"long"})},a+1))})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Year"}),(0,l.jsx)("select",{value:d,onChange:e=>m(parseInt(e.target.value)),className:"form-select",children:Array.from({length:5},(e,a)=>{const s=(new Date).getFullYear()-a;return(0,l.jsx)("option",{value:s,children:s},s)})})]}),(0,l.jsxs)("div",{className:"export-buttons",children:[(0,l.jsx)("button",{className:"btn btn-outline",onClick:async()=>{try{const e=await c.Pt.exportCSV({month:o,year:d}),a=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=a,s.setAttribute("download","transactions_".concat(o,"_").concat(d,".csv")),document.body.appendChild(s),s.click(),s.remove(),r.oR.success("CSV exported successfully")}catch(e){r.oR.error("Failed to export CSV"),console.error(e)}},children:"\ud83d\udcca Export CSV"}),(0,l.jsx)("button",{className:"btn btn-outline",onClick:async()=>{try{const e=await c.Pt.exportPDF({month:o,year:d}),a=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=a,s.setAttribute("download","transactions_".concat(o,"_").concat(d,".pdf")),document.body.appendChild(s),s.click(),s.remove(),r.oR.success("PDF exported successfully")}catch(e){r.oR.error("Failed to export PDF"),console.error(e)}},children:"\ud83d\udcc4 Export PDF"})]})]})}),(0,l.jsxs)("div",{className:"grid grid-3 mb-4",children:[(0,l.jsxs)("div",{className:"summary-card",children:[(0,l.jsx)("h3",{children:"Total Income"}),(0,l.jsxs)("p",{className:"amount income",children:["\u20b9",x.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"summary-card",children:[(0,l.jsx)("h3",{children:"Total Expenses"}),(0,l.jsxs)("p",{className:"amount expense",children:["\u20b9",u.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"summary-card",children:[(0,l.jsx)("h3",{children:"Net Balance"}),(0,l.jsxs)("p",{className:"amount ".concat(j>=0?"income":"expense"),children:["\u20b9",j.toFixed(2)]})]})]}),(0,l.jsxs)("div",{className:"card mb-4",children:[(0,l.jsx)("h3",{className:"card-title",children:"Expense Breakdown by Category"}),Object.keys(p).length>0?(0,l.jsx)("div",{className:"category-list",children:Object.entries(p).sort((e,a)=>a[1]-e[1]).map(e=>{let[a,s]=e;const t=(s/u*100).toFixed(1);return(0,l.jsxs)("div",{className:"category-item",children:[(0,l.jsxs)("div",{className:"category-header",children:[(0,l.jsx)("span",{className:"category-name",children:a}),(0,l.jsxs)("span",{className:"category-amount",children:["\u20b9",s.toFixed(2)]})]}),(0,l.jsx)("div",{className:"category-bar",children:(0,l.jsx)("div",{className:"category-fill",style:{width:"".concat(t,"%")}})}),(0,l.jsxs)("span",{className:"category-percentage",children:[t,"%"]})]},a)})}):(0,l.jsx)("p",{className:"text-center",children:"No expense data for this period"})]}),N.length>0&&(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("h3",{className:"card-title",children:"\ud83d\udca1 Financial Insights"}),(0,l.jsx)("ul",{className:"insights-list",children:N.map((e,a)=>(0,l.jsx)("li",{children:e},a))})]})]})}}}]);
//# sourceMappingURL=978.71e996ef.chunk.js.map