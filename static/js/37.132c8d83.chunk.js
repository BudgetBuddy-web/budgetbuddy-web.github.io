"use strict";(self.webpackChunkbudgetbuddy_client=self.webpackChunkbudgetbuddy_client||[]).push([[37],{9037:(s,a,e)=>{e.r(a),e.d(a,{default:()=>o});var c=e(5043),i=e(5016),l=e(4570),n=e(6305),t=e(2145),d=e(579);const r=(0,c.lazy)(()=>Promise.all([e.e(58),e.e(464)]).then(e.bind(e,9464))),o=()=>{const{user:s}=(0,i.A)(),{celebrate:a,worry:e,encourage:o,idle:h}=(0,l.w)(),[x,m]=(0,c.useState)(null),[j,v]=(0,c.useState)([]),[N,g]=(0,c.useState)(!0),p=(0,c.useCallback)(()=>{if(x){const{totalIncome:s,totalExpenses:c}=x.summary,i=s>0?(s-c)/s*100:0;i>=60?a():i>=40?h():i>=20?o():e()}},[x,a,o,h,e]);(0,c.useEffect)(()=>{u()},[]),(0,c.useEffect)(()=>{p()},[p]);const u=async()=>{try{const[s,a]=await Promise.all([n.Pt.getSummary(),n.FU.getAll()]);m(s.data),v(a.data.slice(0,5))}catch(s){t.oR.error("Failed to load dashboard data"),console.error(s)}finally{g(!1)}};if(N)return(0,d.jsx)("div",{className:"loading",children:(0,d.jsx)("div",{className:"spinner"})});if(!x)return(0,d.jsx)("div",{className:"container",children:"No data available"});const{totalIncome:b,totalExpenses:y,balance:f,savingsGoal:w,savings:F,savingsPercentage:k}=x.summary,{categoryBreakdown:S,insights:E}=x,I=w>0?F/w*100:0;return(0,d.jsxs)("div",{className:"dashboard",children:[(0,d.jsxs)("div",{className:"dashboard-header",children:[(0,d.jsxs)("h1",{children:["Welcome back, ",null===s||void 0===s?void 0:s.name,"! \ud83d\udc4b"]}),(0,d.jsx)("p",{children:"Here's your financial overview"})]}),(0,d.jsxs)("div",{className:"grid grid-4 mb-4",children:[(0,d.jsxs)("div",{className:"stat-card income",children:[(0,d.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb0"}),(0,d.jsxs)("div",{className:"stat-info",children:[(0,d.jsx)("p",{className:"stat-label",children:"Total Income"}),(0,d.jsxs)("h2",{className:"stat-value",children:["\u20b9",b.toFixed(2)]})]})]}),(0,d.jsxs)("div",{className:"stat-card expense",children:[(0,d.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb8"}),(0,d.jsxs)("div",{className:"stat-info",children:[(0,d.jsx)("p",{className:"stat-label",children:"Total Expenses"}),(0,d.jsxs)("h2",{className:"stat-value",children:["\u20b9",y.toFixed(2)]})]})]}),(0,d.jsxs)("div",{className:"stat-card balance",children:[(0,d.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb5"}),(0,d.jsxs)("div",{className:"stat-info",children:[(0,d.jsx)("p",{className:"stat-label",children:"Balance"}),(0,d.jsxs)("h2",{className:"stat-value",children:["\u20b9",f.toFixed(2)]})]})]}),(0,d.jsxs)("div",{className:"stat-card savings",children:[(0,d.jsx)("div",{className:"stat-icon",children:"\ud83c\udfaf"}),(0,d.jsxs)("div",{className:"stat-info",children:[(0,d.jsx)("p",{className:"stat-label",children:"Savings Goal"}),(0,d.jsxs)("h2",{className:"stat-value",children:["\u20b9",w.toFixed(2)]})]})]})]}),(0,d.jsxs)("div",{className:"card mb-4",children:[(0,d.jsx)("h3",{className:"card-title",children:"Savings Progress"}),(0,d.jsxs)("div",{className:"budget-progress",children:[(0,d.jsx)("div",{className:"progress-bar",children:(0,d.jsx)("div",{className:"progress-fill ".concat(I>=100?"good-savings":I<10?"low-savings":""),style:{width:"".concat(Math.min(I,100),"%")}})}),(0,d.jsxs)("div",{className:"progress-info",children:[(0,d.jsxs)("span",{children:[I.toFixed(1),"% of goal achieved"]}),(0,d.jsxs)("span",{children:["\u20b9",F.toFixed(2)," saved / \u20b9",w.toFixed(2)," goal"]})]}),(0,d.jsx)("div",{className:"progress-info",style:{marginTop:"8px",fontSize:"14px",color:"#666"},children:(0,d.jsxs)("span",{children:["\ud83d\udca1 Savings rate: ",k.toFixed(1),"% of income"]})})]})]}),E.length>0&&(0,d.jsxs)("div",{className:"card mb-4",children:[(0,d.jsx)("h3",{className:"card-title",children:"\ud83d\udca1 Insights"}),(0,d.jsx)("ul",{className:"insights-list",children:E.map((s,a)=>(0,d.jsx)("li",{children:s},a))})]}),(0,d.jsx)(c.Suspense,{fallback:(0,d.jsxs)("div",{className:"grid grid-2 mb-4",children:[(0,d.jsxs)("div",{className:"card",children:[(0,d.jsx)("h3",{className:"card-title",children:"Category Breakdown"}),(0,d.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:"Loading charts..."})]}),(0,d.jsxs)("div",{className:"card",children:[(0,d.jsx)("h3",{className:"card-title",children:"Income vs Expenses"}),(0,d.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:"Loading charts..."})]})]}),children:(0,d.jsx)(r,{categoryBreakdown:S,totalIncome:b,totalExpenses:y})}),(0,d.jsxs)("div",{className:"card",children:[(0,d.jsx)("h3",{className:"card-title",children:"Recent Transactions"}),j.length>0?(0,d.jsx)("div",{className:"transactions-list",children:j.map(s=>(0,d.jsxs)("div",{className:"transaction-item",children:[(0,d.jsx)("div",{className:"transaction-icon",children:"income"===s.type?"\ud83d\udcb0":"\ud83d\udcb8"}),(0,d.jsxs)("div",{className:"transaction-details",children:[(0,d.jsx)("p",{className:"transaction-category",children:s.category}),(0,d.jsx)("p",{className:"transaction-note",children:s.note||"No description"})]}),(0,d.jsxs)("div",{className:"transaction-amount ".concat(s.type),children:["income"===s.type?"+":"-","\u20b9",s.amount.toFixed(2)]})]},s._id))}):(0,d.jsx)("p",{className:"text-center",children:"No transactions yet"})]})]})}}}]);
//# sourceMappingURL=37.132c8d83.chunk.js.map