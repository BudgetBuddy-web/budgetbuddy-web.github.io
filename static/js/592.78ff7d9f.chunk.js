"use strict";(self.webpackChunkbudgetbuddy_client=self.webpackChunkbudgetbuddy_client||[]).push([[592],{6592:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var l=a(9379),n=a(5043),i=a(3216),t=a(5016),r=a(3005),o=a(6305),c=a(2145),d=a(579);const u=()=>{var e;const{user:s,updateUser:a,logout:u}=(0,t.A)(),{setTheme:m}=(0,r.D)(),h=(0,i.Zp)(),[p,f]=(0,n.useState)({name:(null===s||void 0===s?void 0:s.name)||"",profilePic:(null===s||void 0===s?void 0:s.profilePic)||""}),[g,v]=(0,n.useState)((null===s||void 0===s?void 0:s.savingsGoal)||5e3),[x,j]=(0,n.useState)({assistantPersonality:(null===s||void 0===s?void 0:s.assistantPersonality)||"cheerful",theme:(null===s||void 0===s?void 0:s.theme)||"light"}),[y,N]=(0,n.useState)({profile:!1,savings:!1,settings:!1});return(0,d.jsxs)("div",{className:"settings-page",children:[(0,d.jsxs)("div",{className:"page-header",children:[(0,d.jsx)("h1",{children:"Settings"}),(0,d.jsx)("p",{children:"Manage your profile and app preferences"})]}),(0,d.jsxs)("div",{className:"settings-grid",children:[(0,d.jsxs)("div",{className:"card",children:[(0,d.jsx)("h2",{className:"section-title",children:"\ud83d\udc64 Profile Information"}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),N((0,l.A)((0,l.A)({},y),{},{profile:!0}));try{const e=await o.Eo.updateProfile(p);a(e.data.user),c.oR.success("Profile updated successfully")}catch(s){c.oR.error("Failed to update profile"),console.error(s)}finally{N((0,l.A)((0,l.A)({},y),{},{profile:!1}))}},children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{className:"form-label",children:"Full Name"}),(0,d.jsx)("input",{type:"text",value:p.name,onChange:e=>f((0,l.A)((0,l.A)({},p),{},{name:e.target.value})),className:"form-control",required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{className:"form-label",children:"Email"}),(0,d.jsx)("input",{type:"email",value:null===s||void 0===s?void 0:s.email,className:"form-control",disabled:!0}),(0,d.jsx)("small",{className:"form-text",children:"Email cannot be changed"})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{className:"form-label",children:"Profile Picture URL"}),(0,d.jsx)("input",{type:"url",value:p.profilePic,onChange:e=>f((0,l.A)((0,l.A)({},p),{},{profilePic:e.target.value})),className:"form-control",placeholder:"https://example.com/avatar.jpg"})]}),(0,d.jsx)("div",{className:"profile-preview",children:(0,d.jsx)("img",{src:p.profilePic,alt:"Profile",className:"preview-image",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=User&background=random"}})}),(0,d.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:y.profile,children:y.profile?"Updating...":"Update Profile"})]})]}),(0,d.jsxs)("div",{className:"card",children:[(0,d.jsx)("h2",{className:"section-title",children:"\ud83c\udfaf Savings Goal"}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),N((0,l.A)((0,l.A)({},y),{},{savings:!0}));try{await o.Eo.updateBudget({savingsGoal:g}),a({savingsGoal:g}),c.oR.success("Savings goal updated successfully")}catch(s){c.oR.error("Failed to update savings goal"),console.error(s)}finally{N((0,l.A)((0,l.A)({},y),{},{savings:!1}))}},children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{className:"form-label",children:"Monthly Savings Goal (\u20b9)"}),(0,d.jsx)("input",{type:"number",value:g,onChange:e=>v(parseFloat(e.target.value)),className:"form-control",min:"0",step:"100",required:!0}),(0,d.jsx)("small",{className:"form-text",children:"Set your monthly savings target (recommended: 20-50% of income)"})]}),(0,d.jsxs)("div",{className:"budget-info",children:[(0,d.jsxs)("div",{className:"info-item",children:[(0,d.jsx)("span",{className:"info-label",children:"Current Goal:"}),(0,d.jsxs)("span",{className:"info-value",children:["\u20b9",null===s||void 0===s||null===(e=s.savingsGoal)||void 0===e?void 0:e.toFixed(2)]})]}),(0,d.jsxs)("div",{className:"info-item",children:[(0,d.jsx)("span",{className:"info-label",children:"New Goal:"}),(0,d.jsxs)("span",{className:"info-value",children:["\u20b9",g.toFixed(2)]})]})]}),(0,d.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:y.savings,children:y.savings?"Updating...":"Update Savings Goal"})]})]}),(0,d.jsxs)("div",{className:"card",children:[(0,d.jsx)("h2",{className:"section-title",children:"\u2699\ufe0f App Preferences"}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),N((0,l.A)((0,l.A)({},y),{},{settings:!0}));try{await o.Eo.updateSettings(x),a(x),m(x.theme),c.oR.success("Settings updated successfully")}catch(s){c.oR.error("Failed to update settings"),console.error(s)}finally{N((0,l.A)((0,l.A)({},y),{},{settings:!1}))}},children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{className:"form-label",children:"Assistant Personality"}),(0,d.jsxs)("select",{value:x.assistantPersonality,onChange:e=>j((0,l.A)((0,l.A)({},x),{},{assistantPersonality:e.target.value})),className:"form-select",children:[(0,d.jsx)("option",{value:"cheerful",children:"\ud83d\ude0a Cheerful - Enthusiastic and energetic"}),(0,d.jsx)("option",{value:"calm",children:"\ud83d\ude0c Calm - Balanced and encouraging"}),(0,d.jsx)("option",{value:"strict",children:"\ud83d\ude10 Strict - Direct and goal-focused"})]}),(0,d.jsx)("small",{className:"form-text",children:"Choose how your anime assistant interacts with you"})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{className:"form-label",children:"Theme"}),(0,d.jsxs)("select",{value:x.theme,onChange:e=>{const s=e.target.value;j((0,l.A)((0,l.A)({},x),{},{theme:s})),m(s)},className:"form-select",children:[(0,d.jsx)("option",{value:"light",children:"\u2600\ufe0f Light Theme"}),(0,d.jsx)("option",{value:"dark",children:"\ud83c\udf19 Dark Theme"}),(0,d.jsx)("option",{value:"auto",children:"\ud83d\udd04 Auto (System)"})]}),(0,d.jsx)("small",{className:"form-text",children:"Select your preferred color scheme (changes instantly!)"})]}),(0,d.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:y.settings,children:y.settings?"Updating...":"Update Settings"})]})]}),(0,d.jsxs)("div",{className:"card danger-zone",children:[(0,d.jsx)("h2",{className:"section-title",children:"\ufffd\ufe0f Delete Account"}),(0,d.jsx)("p",{className:"warning-text",children:"\u26a0\ufe0f Warning: This action cannot be undone. Deleting your account will permanently remove:"}),(0,d.jsxs)("ul",{className:"warning-list",children:[(0,d.jsx)("li",{children:"All your transactions"}),(0,d.jsx)("li",{children:"Your profile and settings"}),(0,d.jsx)("li",{children:"All financial data and reports"})]}),(0,d.jsx)("button",{className:"btn btn-danger",onClick:async()=>{if(!window.confirm("\u26a0\ufe0f Are you absolutely sure you want to delete your account?\n\nThis will permanently delete:\n\u2022 All your transactions\n\u2022 Your profile and settings\n\u2022 All financial data and reports\n\nThis action CANNOT be undone!"))return;if("DELETE"===window.prompt('Type "DELETE" (in capitals) to confirm account deletion:'))try{await o.Eo.deleteAccount(),c.oR.success("Account deleted successfully"),u(),h("/login")}catch(e){c.oR.error("Failed to delete account"),console.error(e)}else c.oR.error("Account deletion cancelled")},children:"Delete My Account"})]})]})]})}}}]);
//# sourceMappingURL=592.78ff7d9f.chunk.js.map